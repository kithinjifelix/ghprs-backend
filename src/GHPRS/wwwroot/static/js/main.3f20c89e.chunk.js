(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{138:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(16),c=n.n(o),i=n(33),s=n(30),l=n(17),u=n(18),d=n(21),p=n(19),m=n(20),f=n(164),h=n(146),b=n(147),g=n(148),E=n(149),y=n(150),O=n(41),v=n.n(O),S={NotificationItem:{DefaultStyle:{display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:"4px",fontSize:"14px"},success:{borderTop:0,backgroundColor:"#45b649",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},error:{borderTop:0,backgroundColor:"#f85032",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},warning:{borderTop:0,backgroundColor:"#ffd700",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},info:{borderTop:0,background:" #BA0C2F",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0}},Title:{DefaultStyle:{margin:0,padding:0,paddingRight:5,color:"#fff",display:"inline-flex",fontSize:20,fontWeight:"bold"}},MessageWrapper:{DefaultStyle:{display:"block",color:"#fff",width:"100%"}},Dismiss:{DefaultStyle:{display:"inline-flex",justifyContent:"center",alignItems:"center",fontFamily:"inherit",fontSize:20,color:"#f2f2f2",position:"relative",margin:0,padding:0,background:"none",borderRadius:0,opacity:1,width:20,height:20,textAlign:"initial",float:"none",top:"unset",right:"unset",lineHeight:"inherit"}},Action:{DefaultStyle:{background:"#fff",borderRadius:"2px",padding:"6px 20px",fontWeight:"bold",margin:"10px 0 0 0",border:0},success:{backgroundColor:"#45b649",color:"#fff"},error:{backgroundColor:"#f85032",color:"#fff"},warning:{backgroundColor:"#ffd700",color:"#fff"},info:{backgroundColor:"#00c9ff",color:"#fff"}},ActionWrapper:{DefaultStyle:{margin:0,padding:0}}},w=n(25),k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).changeAuthState=function(e){return function(t){t.preventDefault(),n.props.onChangeAuthState(e)}},n.handleSubmit=function(e){e.preventDefault(),w.a.login(n.state.email,n.state.password,n.state.remember).then(function(e){n.props.history.push("/"),window.location.reload()},function(e){setTimeout(function(){n.notificationSystem&&n.notificationSystem.addNotification({title:"Error",message:"Invalid email or Password!",level:"error"})},500)})},n.state={email:"",password:"",remember:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"renderButtonText",value:function(){var e=this.props.buttonText;return!e&&this.isLogin?"Login":!e&&this.isSignup?"Signup":e}},{key:"render",value:function(){var e=this,t=this.props,n=t.showLogo,a=t.emailLabel,o=t.emailInputProps,c=t.passwordLabel,i=t.passwordInputProps,s=t.confirmPasswordLabel,l=t.confirmPasswordInputProps,u=t.children,d=t.onLogoClick;return r.a.createElement(h.a,{onSubmit:this.handleSubmit},n&&r.a.createElement("div",{className:"text-center pb-4"},r.a.createElement("img",{src:"./logo-tz.png",style:{width:"300px",height:"100px"},className:"rounded",alt:"USAID Tanzania Data Portal",width:"70%",onClick:d})),r.a.createElement(b.a,null,r.a.createElement(g.a,{for:a},a),r.a.createElement(E.a,Object.assign({},o,{onChange:function(t){return e.setState({email:t.target.value})}}))),r.a.createElement(b.a,null,r.a.createElement(g.a,{for:c},c),r.a.createElement(E.a,Object.assign({},i,{onChange:function(t){return e.setState({password:t.target.value})}}))),this.isSignup&&r.a.createElement(b.a,null,r.a.createElement(g.a,{for:s},s),r.a.createElement(E.a,Object.assign({},l,{onChange:function(t){return e.setState({remember:t.target.value})}}))),r.a.createElement(b.a,{check:!0},r.a.createElement(g.a,{check:!0},r.a.createElement(E.a,{type:"checkbox"})," ",this.isSignup?"Agree the terms and policy":"Remember me")),r.a.createElement("hr",null),r.a.createElement(y.a,{type:"submit",size:"lg",className:"bg-gradient-theme-left border-0",block:!0,onClick:this.handleSubmit},this.renderButtonText()),u,r.a.createElement(v.a,{dismissible:!1,ref:function(t){return e.notificationSystem=t},style:S}))}},{key:"isLogin",get:function(){return this.props.authState===j}},{key:"isSignup",get:function(){return this.props.authState===T}}]),t}(r.a.Component),j="LOGIN",T="SIGNUP";k.defaultProps={authState:"LOGIN",showLogo:!0,emailLabel:"Email",emailInputProps:{type:"email",placeholder:"your@email.com"},passwordLabel:"Password",passwordInputProps:{type:"password",placeholder:"your password"},confirmPasswordLabel:"Confirm Password",confirmPasswordInputProps:{type:"password",placeholder:"confirm your password"},onLogoClick:function(){}};var x=Object(f.a)(k),A=n(2),I=n.n(A),N=n(46);N.a.initialize("UA-110410381-1");var R=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.sendPageView(this.context.router.history.location),this.context.router.history.listen(this.sendPageView)}},{key:"sendPageView",value:function(e){N.a.set({page:e.pathname}),N.a.pageview(e.pathname)}},{key:"render",value:function(){return this.props.children}}]),t}(r.a.Component);R.contextTypes={router:I.a.object};var _=R,P=n(28),L=n(29),D=n(151),U=L.a.create("content"),C=function(e){var t=e.tag,n=e.className,a=Object(P.a)(e,["tag","className"]),o=U.b(n);return r.a.createElement(t,Object.assign({className:o},a))};C.defaultProps={tag:D.a};var z=C,B=function(e){var t=e.children,n=Object(P.a)(e,["children"]);return r.a.createElement("main",Object.assign({className:"cr-app bg-light"},n),r.a.createElement(z,{fluid:!0},t))},M=n(152),G=n(153),W=n(154),K=n(9),V=L.a.create("footer"),H=function(){return r.a.createElement(M.a,{className:"fixed-bottom navbar-light bg-light"},r.a.createElement(G.a,{navbar:!0},r.a.createElement(W.a,null,"USAID Tanzania Data Portal - ",(new Date).getFullYear())),r.a.createElement(G.a,{navbar:!0,className:V.e("nav-right")},r.a.createElement("a",{href:"https://thepalladiumgroup.atlassian.net/servicedesk/customer/portal/21",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(K.n,null),"Help")))},J=L.a.create("header"),Y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isOpenNotificationPopover:!1,isNotificationConfirmed:!1,isOpenUserCardPopover:!1},n.toggleNotificationPopover=function(){n.setState({isOpenNotificationPopover:!n.state.isOpenNotificationPopover}),n.state.isNotificationConfirmed||n.setState({isNotificationConfirmed:!0})},n.toggleUserCardPopover=function(){n.setState({isOpenUserCardPopover:!n.state.isOpenUserCardPopover})},n.handleSidebarControlButton=function(e){e.preventDefault(),e.stopPropagation(),document.querySelector(".cr-sidebar").classList.toggle("cr-sidebar--open")},n.logout=function(){w.a.logout(),n.props.history.push("/login")},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(M.a,{light:!0,expand:!0,className:"".concat(J.b("bg-white"))},r.a.createElement(G.a,{navbar:!0,className:"mr-2"},r.a.createElement(y.a,{outline:!0,onClick:this.handleSidebarControlButton},r.a.createElement(K.d,{size:25})),r.a.createElement(W.a,{style:{width:"24%"}},r.a.createElement("img",{src:"./USAID-Logo.png",className:"img-fluid",alt:"USAIDlogo"}))),r.a.createElement(G.a,{navbar:!0,className:J.e("nav-right")},r.a.createElement(W.a,{style:{width:"60%"}},r.a.createElement("img",{src:"./DataFI.png",className:"img-fluid",alt:"DataFIlogo"}))))}}]),t}(r.a.Component),F=Object(f.a)(Y),X=n(78),q=function(e){var t=e.component,n=e.layout,a=Object(P.a)(e,["component","layout"]);return r.a.createElement(X.a,Object.assign({},a,{render:function(e){return r.a.createElement(n,null,r.a.createElement(t,e))}}))},Z=n(10),Q=(n(117),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleContentClick=function(e){!t.isSidebarOpen()||"xs"!==n.props.breakpoint&&"sm"!==n.props.breakpoint&&"md"!==n.props.breakpoint||n.openSidebar("close")},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.breakpoint;t!==this.props.breakpoint&&this.checkBreakpoint(t)}},{key:"componentDidMount",value:function(){var e=this;this.checkBreakpoint(this.props.breakpoint),setTimeout(function(){e.notificationSystem&&e.notificationSystem.addNotification({title:r.a.createElement(K.o,null),message:"Welome to USAID Tanzania Data Portal",level:"info"})},1500)}},{key:"checkBreakpoint",value:function(e){switch(e){case"xs":case"sm":case"md":return this.openSidebar("close");case"lg":case"xl":default:return this.openSidebar("open")}}},{key:"openSidebar",value:function(e){if("open"===e)return document.querySelector(".cr-sidebar").classList.add("cr-sidebar--open");document.querySelector(".cr-sidebar").classList.remove("cr-sidebar--open")}},{key:"render",value:function(){var e=this,t=this.props.children;return r.a.createElement("main",{className:"cr-app bg-light"},r.a.createElement(ue,null),r.a.createElement(z,{fluid:!0,onClick:this.handleContentClick},r.a.createElement(F,null),t,r.a.createElement(H,null)),r.a.createElement(v.a,{dismissible:!1,ref:function(t){return e.notificationSystem=t},style:S}),r.a.createElement(Z.a,{autoClose:3e3,hideProgressBar:!0}))}}],[{key:"isSidebarOpen",value:function(){return document.querySelector(".cr-sidebar").classList.contains("cr-sidebar--open")}}]),t}(r.a.Component)),$=n(37),ee=n(156),te=n(155),ne=n(157),ae=n(3),re=n(48),oe=[];"Administrator"===w.a.currentRole?oe=[{to:"/initialize-Template",name:"Initialize",exact:!0,Icon:K.j},{to:"/download-Template",name:"Downloads",exact:!0,Icon:K.l},{to:"/review",name:"Review",exact:!0,Icon:K.g},{to:"/upload-Template",name:"Submit",exact:!0,Icon:K.m},{to:"/upload-MER",name:"Submit MER/PLHIV",exact:!0,Icon:K.m},{to:"/files-upload",name:"MER/PLHIV Uploads",exact:!0,Icon:K.y}]:"User"===w.a.currentRole&&(oe=[{to:"/upload-Template",name:"Submit",exact:!0,Icon:K.m},{to:"/upload-MER",name:"Data Upload",exact:!0,Icon:K.m},{to:"/submissions",name:"Submissions",exact:!0,Icon:K.y},{to:"/download-Template",name:"Downloads",exact:!0,Icon:K.l},{to:"/upload-MER",name:"Submit MER",exact:!0,Icon:K.m},{to:"/files-upload",name:"MER Uploads",exact:!0,Icon:K.y}]);var ce=[{to:"/",name:"Home",exact:!1,Icon:K.e}],ie=L.a.create("sidebar"),se=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isOpenLinks:!1,isOpenTemplates:!1,isOpenDashboards:!1,isOpenAdmin:!1,externalLinks:[]},n.handleClick=function(e){return function(){n.setState(function(t){var n=t["isOpen".concat(e)];return Object($.a)({},"isOpen".concat(e),!n)})}},n.logout=function(){w.a.logout()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchExternalLinks("external",ae.l),this.props.fetchDashboardLinks("dashboard",ae.j)}},{key:"render",value:function(){return r.a.createElement("aside",{className:ie.b()},r.a.createElement("div",{className:ie.e("content")},r.a.createElement(M.a,{style:{backgroundColor:"#fff"}},r.a.createElement(te.a,{href:"/",className:"navbar-brand d-flex",style:{padding:"0rem"}},r.a.createElement("img",{src:"./logo-tz.png",alt:"USAID Tanzania Data Portal",width:"100%"}))),r.a.createElement(G.a,{vertical:!0},ce.map(function(e,t){var n=e.to,a=e.name,o=e.exact,c=e.Icon;return r.a.createElement(W.a,{key:t,className:ie.e("nav-item")},r.a.createElement(te.a,{id:"navItem-".concat(a,"-").concat(t),tag:ee.a,to:n,activeClassName:"",exact:o},r.a.createElement(c,{className:ie.e("nav-item-icon")}),r.a.createElement("span",{className:""},a)))}),r.a.createElement(W.a,{className:ie.e("nav-item"),onClick:this.handleClick("Templates")},r.a.createElement(te.a,{className:"".concat(ie.e("nav-item-collapse"))},r.a.createElement("div",{className:"d-flex"},r.a.createElement(K.t,{className:ie.e("nav-item-icon")}),r.a.createElement("span",{className:" align-self-start"},"Templates")),r.a.createElement(K.p,{className:ie.e("nav-item-icon"),style:{padding:0,transform:this.state.isOpenTemplates?"rotate(0deg)":"rotate(-90deg)",transitionDuration:"0.3s",transitionProperty:"transform"}}))),r.a.createElement(ne.a,{isOpen:this.state.isOpenTemplates},oe.map(function(e,t){var n=e.to,a=e.name,o=e.exact,c=e.Icon;return r.a.createElement(W.a,{key:t,className:ie.e("nav-item-sub")},r.a.createElement(te.a,{id:"navItem-".concat(a,"-").concat(t),tag:ee.a,to:n,activeClassName:"",exact:o},r.a.createElement(c,{className:ie.e("nav-item-icon")}),r.a.createElement("span",{className:""},a)))})),"Administrator"===w.a.currentRole&&r.a.createElement(W.a,{className:ie.e("nav-item")},r.a.createElement(te.a,{id:"navItem-resources",tag:ee.a,to:"/administration",activeClassName:"",exact:!0},r.a.createElement(K.v,{className:ie.e("nav-item-icon")}),r.a.createElement("span",{className:""},"Administration"))),r.a.createElement(W.a,{className:ie.e("nav-item")},r.a.createElement(te.a,{id:"navItem-resources",tag:ee.a,to:"/resources",activeClassName:"",exact:!0},r.a.createElement(K.q,{className:ie.e("nav-item-icon")}),r.a.createElement("span",{className:""},"Resources"))),r.a.createElement("hr",{className:"my-12"}),r.a.createElement(W.a,{className:ie.e("nav-item")},r.a.createElement(te.a,{id:"navItem-resources",tag:ee.a,to:"/login",onClick:this.logout,exact:!0},r.a.createElement(K.i,{className:ie.e("nav-item-icon")}),r.a.createElement("span",{className:""},"Signout"))))))}}]),t}(r.a.Component),le={fetchExternalLinks:re.f,fetchDashboardLinks:re.f},ue=Object(i.b)(function(e){return{externalLinks:e.links.external,dashboards:e.links.dashboards}},le)(se),de=n(56),pe=n(158),me=n(159),fe=n(160),he=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleAuthState=function(e){e===j?n.props.history.push("/login"):n.props.history.push("/signup")},n.handleLogoClick=function(){n.props.history.push("/")},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(pe.a,{style:{height:"100vh",justifyContent:"center",alignItems:"center"}},r.a.createElement(me.a,{md:6,lg:4},r.a.createElement(fe.a,{body:!0},r.a.createElement(x,{authState:this.props.authState,onChangeAuthState:this.handleAuthState,onLogoClick:this.handleLogoClick}))))}}]),t}(r.a.Component),be=n(79),ge=n.n(be),Ee=n(163),ye=n(165),Oe=n(162),ve=(n(138),function(e){var t=e.component,n=e.roles,a=Object(P.a)(e,["component","roles"]);return r.a.createElement(X.a,Object.assign({},a,{render:function(e){return localStorage.getItem("currentUser")?n&&-1===n.indexOf(w.a.currentRole)?r.a.createElement(Oe.a,{to:{pathname:"/"}}):r.a.createElement(t,e):r.a.createElement(Oe.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),Se=n(58),we=r.a.lazy(function(){return Promise.all([n.e(5),n.e(8)]).then(n.bind(null,927))}),ke=r.a.lazy(function(){return Promise.all([n.e(2),n.e(30)]).then(n.bind(null,928))}),je=r.a.lazy(function(){return Promise.all([n.e(19),n.e(27)]).then(n.bind(null,929))}),Te=r.a.lazy(function(){return Promise.all([n.e(2),n.e(29)]).then(n.bind(null,930))}),xe=r.a.lazy(function(){return Promise.all([n.e(1),n.e(17),n.e(22)]).then(n.bind(null,931))}),Ae=r.a.lazy(function(){return n.e(13).then(n.bind(null,932))}),Ie=r.a.lazy(function(){return n.e(11).then(n.bind(null,933))}),Ne=r.a.lazy(function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,934))}),Re=r.a.lazy(function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,935))}),_e=r.a.lazy(function(){return Promise.all([n.e(0),n.e(23)]).then(n.bind(null,936))}),Pe=r.a.lazy(function(){return n.e(9).then(n.bind(null,937))}),Le=r.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(20)]).then(n.bind(null,938))}),De=r.a.lazy(function(){return n.e(21).then(n.bind(null,947))}),Ue=r.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(26)]).then(n.bind(null,939))}),Ce=r.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(25)]).then(n.bind(null,940))}),ze=r.a.lazy(function(){return Promise.all([n.e(0),n.e(28)]).then(n.bind(null,941))}),Be=r.a.lazy(function(){return n.e(14).then(n.bind(null,942))}),Me=r.a.lazy(function(){return n.e(12).then(n.bind(null,943))}),Ge=r.a.lazy(function(){return n.e(18).then(n.bind(null,944))}),We=r.a.lazy(function(){return Promise.all([n.e(0),n.e(16),n.e(24)]).then(n.bind(null,945))}),Ke=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.loggedIn()}},{key:"render",value:function(){return r.a.createElement(Ee.a,{basename:"/".concat("".split("/").pop())},r.a.createElement(_,null,r.a.createElement(ye.a,null,r.a.createElement(q,{exact:!0,path:"/login",layout:B,component:function(e){return r.a.createElement(he,Object.assign({},e,{authState:j}))}}),r.a.createElement(q,{exact:!0,path:"/signup",layout:B,component:function(e){return r.a.createElement(he,Object.assign({},e,{authState:T}))}}),r.a.createElement(Q,{breakpoint:this.props.breakpoint},r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(de.a,null)},r.a.createElement(ve,{exact:!0,path:"/",component:je}),r.a.createElement(ve,{exact:!0,path:"/dashboard",component:we}),r.a.createElement(ve,{exact:!0,path:"/dashboards",component:ke}),r.a.createElement(ve,{exact:!0,path:"/upload-Template",component:xe}),r.a.createElement(ve,{exact:!0,path:"/initialize-Template",roles:["Administrator"],component:Ae}),r.a.createElement(ve,{exact:!0,path:"/configure",roles:["Administrator"],component:Ie}),r.a.createElement(ve,{exact:!0,path:"/configure/:id",roles:["Administrator"],component:Ie}),r.a.createElement(ve,{exact:!0,path:"/download-Template",component:Ne}),r.a.createElement(ve,{exact:!0,path:"/users",roles:["Administrator"],component:Re}),r.a.createElement(ve,{exact:!0,path:"/organizations",roles:["Administrator"],component:_e}),r.a.createElement(ve,{exact:!0,path:"/register",roles:["Administrator"],component:Pe}),r.a.createElement(ve,{exact:!0,path:"/review",roles:["Administrator"],component:Le}),r.a.createElement(ve,{exact:!0,path:"/review-details/:id",roles:["Administrator"],component:De}),r.a.createElement(ve,{exact:!0,path:"/submissions",roles:["User"],component:Ue}),r.a.createElement(ve,{exact:!0,path:"/links",roles:["Administrator"],component:ze}),r.a.createElement(ve,{exact:!0,path:"/link",roles:["Administrator"],component:Be}),r.a.createElement(ve,{exact:!0,path:"/link/:id",roles:["Administrator"],component:Be}),r.a.createElement(ve,{exact:!0,path:"/organization",roles:["Administrator"],component:Me}),r.a.createElement(ve,{exact:!0,path:"/organization/:id",roles:["Administrator"],component:Me}),r.a.createElement(ve,{exact:!0,path:"/profile/:id",roles:["Administrator"],component:Pe}),r.a.createElement(ve,{exact:!0,path:"/administration",roles:["Administrator"],component:Te}),r.a.createElement(ve,{exact:!0,path:"/resources",component:Ge}),r.a.createElement(ve,{exact:!0,path:"/upload-MER",component:We}),r.a.createElement(ve,{exact:!0,path:"/files-upload",component:Ce}))),r.a.createElement(Oe.a,{to:"/"}))))}}]),t}(r.a.Component),Ve={loggedIn:Se.e},He=Object(i.b)(null,Ve)(ge()(function(e){var t=e.width;return t<575?{breakpoint:"xs"}:576<t&&t<767?{breakpoint:"sm"}:768<t&&t<991?{breakpoint:"md"}:992<t&&t<1199?{breakpoint:"lg"}:t>1200?{breakpoint:"xl"}:{breakpoint:"xs"}})(Ke));c.a.render(r.a.createElement(i.a,{store:s.a},r.a.createElement(He,null)),document.getElementById("root"))},14:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=(window.location.protocol,"https://tz-data-portal.southafricanorth.cloudapp.azure.com/"),r="https://tz-data-portal.southafricanorth.cloudapp.azure.com/api/"},25:function(e,t,n){"use strict";var a=n(161),r=n(34),o=n(14);var c=n(30),i=n(3),s=c.a.dispatch;function l(e){return e.text().then(function(t){var n=t&&JSON.parse(t);if(!e.ok){s({type:i.a,payload:"Error Authenticating"});var a=n&&n.message||e.statusText;return Promise.reject(a)}return n})}var u=n(12),d=n.n(u),p=c.a.dispatch;d.a.interceptors.request.use(function(e){var t=function(){var e=g.currentUserValue;return e&&e.token?{Authorization:"Bearer ".concat(e.token)}:{}}();return t?e.headers=t:console.log("There is not token yet..."),e}),d.a.interceptors.response.use(function(e){return e},function(e){return 401!==e.response.status&&403!==e.response.status||(g.logout(),p({type:i.N,payload:e.response.status}),window.location.reload(!0)),Promise.reject(e)}),n.d(t,"a",function(){return g});var m=c.a.dispatch,f=new a.a(JSON.parse(localStorage.getItem("currentUser"))),h=JSON.parse(localStorage.getItem("currentUser"))?Object(r.a)(JSON.parse(localStorage.getItem("currentUser")).token)["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]:"",b=JSON.parse(localStorage.getItem("currentUser"))?Object(r.a)(JSON.parse(localStorage.getItem("currentUser")).token)["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"]:"",g={login:function(e,t,n){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,remember:n})};return fetch("".concat(o.b,"authentication/login"),a).then(l).then(function(e){return m({type:i.r,payload:Object(r.a)(e.token)}),localStorage.setItem("currentUser",JSON.stringify(e)),f.next(e),e})},logout:function(){m({type:i.s}),localStorage.removeItem("currentUser"),f.next(null),window.location.reload()},currentUser:f.asObservable(),get currentUserValue(){return f.value},currentRole:h,currentUsername:b}},29:function(e,t,n){"use strict";var a,r=n(8),o=n.n(r),c=(a="cr",{create:function(e){var t=e;return"string"===typeof a&&(t="".concat(a,"-").concat(e)),{b:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return o()(t,n)},e:function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return o()("".concat(t,"__").concat(e),a)},m:function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return o()("".concat(t,"--").concat(e),a)}}}});t.a=c},3:function(e,t,n){"use strict";n.d(t,"r",function(){return a}),n.d(t,"s",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"N",function(){return c}),n.d(t,"g",function(){return i}),n.d(t,"h",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"z",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"X",function(){return p}),n.d(t,"B",function(){return m}),n.d(t,"C",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return b}),n.d(t,"A",function(){return g}),n.d(t,"y",function(){return E}),n.d(t,"v",function(){return y}),n.d(t,"w",function(){return O}),n.d(t,"t",function(){return v}),n.d(t,"u",function(){return S}),n.d(t,"I",function(){return w}),n.d(t,"D",function(){return k}),n.d(t,"G",function(){return j}),n.d(t,"H",function(){return T}),n.d(t,"L",function(){return x}),n.d(t,"M",function(){return A}),n.d(t,"F",function(){return I}),n.d(t,"E",function(){return N}),n.d(t,"J",function(){return R}),n.d(t,"K",function(){return _}),n.d(t,"V",function(){return P}),n.d(t,"U",function(){return L}),n.d(t,"P",function(){return D}),n.d(t,"Q",function(){return U}),n.d(t,"W",function(){return C}),n.d(t,"S",function(){return z}),n.d(t,"R",function(){return B}),n.d(t,"O",function(){return M}),n.d(t,"b",function(){return G}),n.d(t,"T",function(){return W}),n.d(t,"x",function(){return K}),n.d(t,"i",function(){return V}),n.d(t,"m",function(){return H}),n.d(t,"n",function(){return J}),n.d(t,"o",function(){return Y}),n.d(t,"l",function(){return F}),n.d(t,"j",function(){return X}),n.d(t,"p",function(){return q}),n.d(t,"q",function(){return Z}),n.d(t,"k",function(){return Q});var a="LOGIN",r="LOGOUT",o="AUTHENTICATION_ERROR",c="UNAUTHORISED_ERROR",i="GET_USERS",s="GET_USER_BY_ID",l="GET_CURRENT_USER",u="REGISTER",d="EDIT_USER",p="USERS_ERROR",m="RESET_PASSWORD",f="RESET_PASSWORD_ERROR",h="GET_ORGANIZATIONS",b="GET_ORGANIZATION_BY_ID",g="REGISTER_ORGANIZATION",E="ORGANIZATIONS_ERROR",y="LOOKUP_GENDER",O="LOOKUP_MARITAL_STATUS",v="LOOKUP_DATA_TYPE",S="LOOKUP_ERROR",w="TEMPLATE_INITIALIZE",k="TEMPLATE_CONFIGURE",j="TEMPLATE_GET_ALL",T="TEMPLATE_GET_BY_ID",x="TEMPLATE_UPDATE_STATUS",A="TEMPLATE_WORKSHEET_UPDATE",I="TEMPLATE_EXISTS",N="TEMPLATE_ERROR",R="TEMPLATE_UPDATED",_="TEMPLATE_UPDATED_ERROR",P="UPLOAD_UPLOAD",L="UPLOAD_REVIEW",D="UPLOAD_GET_ALL",U="UPLOAD_GET_BY_ID",C="UPLOAD_VIEW_BY_ID",z="UPLOAD_GET_BY_USER",B="UPLOAD_GET_BY_STATUS",M="UPLOAD_ERROR",G="DASHBOARD_DATA",W="UPLOAD_PROGRESS",K="MER_FILES",V="LINK_ADD",H="LINK_GET_ALL",J="LINK_GET_BY_ID",Y="LINK_GET_BY_NUMBER",F="LINK_EXTERNAL",X="LINK_DASHBOARDS",q="LINK_REPORTS",Z="LINK_TABLES",Q="LINK_ERROR"},30:function(e,t,n){"use strict";var a=n(26),r=n(76),o=n(11),c=n(5),i=n(3),s={authenticated:!1,userTokenDetails:{},currentUser:{},list:[],registered:{},user:{},error:{}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.g:return Object(c.a)({},e,{list:Object(o.a)(t.payload)});case i.h:return Object(c.a)({},e,{user:t.payload});case i.z:return Object(c.a)({},e,{registered:t.payload});case i.c:return Object(c.a)({},e,{user:t.payload});case i.d:return Object(c.a)({},e,{currentUser:t.payload});case i.r:return Object(c.a)({},e,{userTokenDetails:t.payload,authenticated:!0});case i.s:return Object(c.a)({},e,{userTokenDetails:{},authenticated:!1});case i.C:return Object(c.a)({},e,{errorMessage:t.payload});default:return e}},u={genders:[],maritalStatuses:[],dataTypes:[],error:{}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.v:return Object(c.a)({},e,{genders:Object(o.a)(t.payload)});case i.w:return Object(c.a)({},e,{maritalStatuses:Object(o.a)(t.payload)});case i.t:return Object(c.a)({},e,{dataTypes:Object(o.a)(t.payload)});case i.u:return Object(c.a)({},e,{error:t.payload});default:return e}},p={list:[],template:{},workSheets:[],exists:{},error:{}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.G:return Object(c.a)({},e,{list:Object(o.a)(t.payload)});case i.I:case i.D:return Object(c.a)({},e,{workSheets:t.payload});case i.M:return e;case i.H:return Object(c.a)({},e,{worksheets:t.payload});case i.L:return Object(c.a)({},e,{template:t.payload});case i.F:return Object(c.a)({},e,{exists:t.payload});case i.E:return Object(c.a)({},e,{error:t.payload});default:return e}},f={list:[],upload:{},view:[],error:{},merfiles:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.P:return Object(c.a)({},e,{list:Object(o.a)(t.payload)});case i.V:case i.Q:return Object(c.a)({},e,{upload:t.payload});case i.W:return Object(c.a)({},e,{view:t.payload});case i.S:case i.R:return Object(c.a)({},e,{list:Object(o.a)(t.payload)});case i.O:return Object(c.a)({},e,{error:t.payload});case i.b:return Object(c.a)({},e,{dashboard:t.payload});case i.T:return Object(c.a)({},e,{uploadProgress:t.payload});case i.x:return Object(c.a)({},e,{merfiles:t.payload});default:return e}},b={list:[],link:{},external:[],dashboards:[],dashboard:{},reports:[],tables:[],error:{}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.i:case i.n:return Object(c.a)({},e,{link:t.payload});case i.o:return Object(c.a)({},e,{dashboard:t.payload});case i.m:return Object(c.a)({},e,{list:Object(o.a)(t.payload)});case i.j:return Object(c.a)({},e,{dashboards:Object(o.a)(t.payload)});case i.l:return Object(c.a)({},e,{external:Object(o.a)(t.payload)});case i.p:return Object(c.a)({},e,{reports:Object(o.a)(t.payload)});case i.q:return Object(c.a)({},e,{tables:Object(o.a)(t.payload)});case i.k:return Object(c.a)({},e,{error:t.payload});default:return e}},E={list:[],registered:{},organization:{},error:{}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.e:return Object(c.a)({},e,{list:Object(o.a)(t.payload)});case i.f:return Object(c.a)({},e,{organization:t.payload});case i.A:return Object(c.a)({},e,{registered:t.payload});default:return e}},O=Object(a.c)({users:l,lookups:d,templates:m,uploads:h,links:g,organizations:y}),v=[r.a],S={},w=window.__REDUX_DEVTOOLS_EXTENSION__?Object(a.e)(O,S,Object(a.d)(a.a.apply(void 0,v),window.__REDUX_DEVTOOLS_EXTENSION__())):Object(a.e)(O,S,Object(a.d)(a.a.apply(void 0,v)));t.a=w},48:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"g",function(){return f});var a=n(12),r=n.n(a),o=n(14),c=n(10),i=n(3),s=function(e,t){return function(n){r.a.get("".concat(o.b,"links")).then(function(t){n({type:i.m,payload:t.data}),e&&e()}).catch(function(e){t&&(t(),c.b.error("Something went wrong fetching links"))})}},l=function(e,t,n,a){return function(c){r.a.get("".concat(o.b,"links/").concat(e)).then(function(e){c({type:t,payload:e.data}),n&&n()}).catch(function(e){a&&(a(),console.log(e))})}},u=function(e,t,n){return function(a){r.a.get("".concat(o.b,"links/").concat(e)).then(function(e){a({type:i.n,payload:e.data}),t&&t()}).catch(function(e){n&&(n(),c.b.error("Something went wrong fetching link"))})}},d=function(e,t,n){return function(a){r.a.get("".concat(o.b,"links/number/").concat(e)).then(function(e){a({type:i.o,payload:e.data}),t&&t()}).catch(function(e){n&&(n(),c.b.error("Something went wrong fetching link"))})}},p=function(e,t,n){return function(a){r.a.post("".concat(o.b,"links"),e).then(function(e){a({type:i.i,payload:e.data}),t&&t()}).catch(function(e){a({type:i.k,payload:"Something went wrong"}),n(),void 0===e.response?c.b.error("Something went wrong"):c.b.error(e)})}},m=function(e,t,n,a){return function(s){r.a.put("".concat(o.b,"links/").concat(e),t).then(function(e){s({type:i.i,payload:e.data}),n&&n()}).catch(function(e){s({type:i.k,payload:"Something went wrong"}),a(),void 0===e.response?c.b.error("Something went wrong"):c.b.error(e)})}},f=function(e,t,n){return function(a){r.a.delete("".concat(o.b,"links/").concat(e)).then(function(e){t&&t()}).catch(function(e){n&&(n(),c.b.error("Something went wrong fetching link"))})}}},56:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(141);t.a=function(e){var t=e.color,n=void 0===t?"primary":t;return r.a.createElement("div",{className:"cr-page-spinner"},r.a.createElement(o.a,{color:n}))}},58:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h});var a=n(12),r=n.n(a),o=n(14),c=n(10),i=n(34),s=n(3),l=function(e,t){return function(n){r.a.get("".concat(o.b,"users")).then(function(t){n({type:s.g,payload:t.data}),e&&e()}).catch(function(e){t&&(t(),c.b.error("Something went wrong fetching users"))})}},u=function(e,t,n){return function(a){r.a.get("".concat(o.b,"users/").concat(e)).then(function(e){a({type:s.h,payload:e.data}),t&&t()}).catch(function(e){n&&(n(),c.b.error("Something went wrong fetching user"))})}},d=function(e,t,n){return function(a){r.a.post("".concat(o.b,"authentication/register"),e).then(function(e){a({type:s.z,payload:e.data}),t&&t()}).catch(function(e){a({type:s.X,payload:"Something went wrong"}),n(),void 0===e.response?c.b.error("Something went wrong"):c.b.error(e)})}},p=function(e,t,n,a){return function(i){r.a.post("".concat(o.b,"authentication/resetpassword/").concat(e),t).then(function(e){i({type:s.B,payload:e.data}),n&&n()}).catch(function(e){i({type:s.C,payload:e.response.data.message}),a(),void 0===e.response?c.b.error("Something went wrong"):c.b.error(e)})}},m=function(e,t,n,a){return function(i){r.a.put("".concat(o.b,"users/")+e,t).then(function(e){i({type:s.c,payload:e.data}),n&&n()}).catch(function(e){i({type:s.X,payload:"Something went wrong"}),a(),void 0===e.response?c.b.error("Something went wrong"):c.b.error(e)})}},f=function(e,t){return function(n){r.a.get("".concat(o.b,"users/userid")).then(function(t){n({type:s.d,payload:t.data}),e&&e()}).catch(function(e){t&&t()})}},h=function(){return function(e){var t=JSON.parse(localStorage.getItem("currentUser"));if(t){var n=Object(i.a)(t.token);r.a.get("".concat(o.b)).then(function(t){e({type:s.r,payload:n}),e(f())}).catch(function(t){e({type:s.s})})}}}},83:function(e,t,n){e.exports=n(139)}},[[83,4,7]]]);
//# sourceMappingURL=main.3f20c89e.chunk.js.map