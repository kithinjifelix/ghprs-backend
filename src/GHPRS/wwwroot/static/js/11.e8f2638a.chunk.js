(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{167:function(e,t,a){"use strict";var n=a(5),c=a(1),r=a.n(c);Object(n.a)({},r.a,{ID:r.a.oneOfType([r.a.string,r.a.number]).isRequired,component:r.a.oneOfType([r.a.string,r.a.func]),date:r.a.oneOfType([r.a.instanceOf(Date),r.a.string])})},172:function(e,t,a){"use strict";var n=a(27),c=a(0),r=a.n(c),o=(a(167),a(28)),l=a(214),s=a(215),u=a(173),i=o.a.create("page"),m=function(e){var t=e.title,a=e.breadcrumbs,c=e.tag,o=e.className,m=e.children,p=Object(n.a)(e,["title","breadcrumbs","tag","className","children"]),f=i.b("px-3",o);return r.a.createElement(c,Object.assign({className:f},p),r.a.createElement("div",{className:i.e("header")},t&&"string"===typeof t?r.a.createElement(u.a,{type:"h1",className:i.e("title")},t):t,a&&r.a.createElement(l.a,{className:i.e("breadcrumb")},a.length&&a.map(function(e,t){var a=e.name,n=e.active;return r.a.createElement(s.a,{key:t,active:n},a)}))),m)};m.defaultProps={tag:"div",title:""},t.a=m},173:function(e,t,a){"use strict";var n=a(36),c=a(27),r=a(7),o=a.n(r),l=a(0),s=a.n(l),u=(a(167),{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"}),i=function(e){var t,a=e.tag,r=e.className,l=e.type,i=Object(c.a)(e,["tag","className","type"]),m=o()(Object(n.a)({},l,!!l),r);return t=a||(!a&&u[l]?u[l]:"p"),s.a.createElement(t,Object.assign({},i,{className:m}))};i.defaultProps={type:"p"},t.a=i},174:function(e,t,a){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,c=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(s){c=!0,r=s}finally{try{n||null==l.return||l.return()}finally{if(c)throw r}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.d(t,"a",function(){return n})},208:function(e,t,a){"use strict";var n=a(4),c=a(6),r=a(0),o=a.n(r),l=a(1),s=a.n(l),u=a(7),i=a.n(u),m=a(3),p={tag:m.m,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},f=function(e){var t=e.className,a=e.cssModule,r=e.innerRef,l=e.tag,s=Object(c.a)(e,["className","cssModule","innerRef","tag"]),u=Object(m.i)(i()(t,"card-body"),a);return o.a.createElement(l,Object(n.a)({},s,{className:u,ref:r}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f},214:function(e,t,a){"use strict";var n=a(4),c=a(6),r=a(0),o=a.n(r),l=a(1),s=a.n(l),u=a(7),i=a.n(u),m=a(3),p={tag:m.m,listTag:m.m,className:s.a.string,listClassName:s.a.string,cssModule:s.a.object,children:s.a.node,"aria-label":s.a.string},f=function(e){var t=e.className,a=e.listClassName,r=e.cssModule,l=e.children,s=e.tag,u=e.listTag,p=e["aria-label"],f=Object(c.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),d=Object(m.i)(i()(t),r),h=Object(m.i)(i()("breadcrumb",a),r);return o.a.createElement(s,Object(n.a)({},f,{className:d,"aria-label":p}),o.a.createElement(u,{className:h},l))};f.propTypes=p,f.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},t.a=f},215:function(e,t,a){"use strict";var n=a(4),c=a(6),r=a(0),o=a.n(r),l=a(1),s=a.n(l),u=a(7),i=a.n(u),m=a(3),p={tag:m.m,active:s.a.bool,className:s.a.string,cssModule:s.a.object},f=function(e){var t=e.className,a=e.cssModule,r=e.active,l=e.tag,s=Object(c.a)(e,["className","cssModule","active","tag"]),u=Object(m.i)(i()(t,!!r&&"active","breadcrumb-item"),a);return o.a.createElement(l,Object(n.a)({},s,{className:u,"aria-current":r?"page":void 0}))};f.propTypes=p,f.defaultProps={tag:"li"},t.a=f},233:function(e,t,a){"use strict";var n=a(4),c=a(6),r=a(0),o=a.n(r),l=a(1),s=a.n(l),u=a(7),i=a.n(u),m=a(3),p={tag:m.m,className:s.a.string,cssModule:s.a.object},f=function(e){var t=e.className,a=e.cssModule,r=e.tag,l=Object(c.a)(e,["className","cssModule","tag"]),s=Object(m.i)(i()(t,"card-header"),a);return o.a.createElement(r,Object(n.a)({},l,{className:s}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f},259:function(e,t,a){"use strict";a.d(t,"d",function(){return s}),a.d(t,"e",function(){return u}),a.d(t,"a",function(){return i}),a.d(t,"i",function(){return m}),a.d(t,"f",function(){return p}),a.d(t,"j",function(){return f}),a.d(t,"g",function(){return d}),a.d(t,"b",function(){return h}),a.d(t,"h",function(){return g}),a.d(t,"c",function(){return b});var n=a(11),c=a.n(n),r=a(13),o=a(9),l=a(2),s=function(e,t){return function(a){c.a.get("".concat(r.a,"templates")).then(function(t){a({type:l.E,payload:t.data}),e&&e()}).catch(function(e){t&&(t(),o.b.error("Something went wrong fetching Templates"))})}},u=function(e,t,a){return function(n){c.a.get("".concat(r.a,"templates/").concat(e)).then(function(e){n({type:l.F,payload:e.data}),t&&t()}).catch(function(e){a&&(a(),o.b.error("Something went wrong fetching Template"))})}},i=function(e,t,a){return function(n){c.a.get("".concat(r.a,"templates/configure/").concat(e)).then(function(e){n({type:l.B,payload:e.data}),t&&t()}).catch(function(e){a&&(a(),o.b.error("Something went wrong!"))})}},m=function(e,t,a,n){return function(s){c.a.put("".concat(r.a,"templates/").concat(e,"/status/").concat(t)).then(function(e){s({type:l.J,payload:e.data}),a&&a()}).catch(function(e){s({type:l.C,payload:"Something went wrong"}),n(),console.log(e),o.b.error("Something went wrong")})}},p=function(e,t,a){return function(n){var s=new FormData;s.append("file",e.file),s.append("name",e.name),s.append("description",e.description),s.append("version",e.version),s.append("frequency",e.frequency),s.append("status",e.status),c.a.post("".concat(r.a,"templates/initialize"),s).then(function(e){n({type:l.G,payload:e.data}),t&&t()}).catch(function(e){n({type:l.C,payload:"Something went wrong"}),a(),console.log(e),o.b.error("Something went wrong")})}},f=function(e,t,a,n){return function(s){var u=new FormData;u.append("file",t.file),c.a.post("".concat(r.a,"templates/updateTemplate/").concat(e),u).then(function(e){s({type:l.H,payload:e.data}),a&&a()}).catch(function(e){s({type:l.I,payload:"Something went wrong"}),n(),console.log(e),o.b.error("Something went wrong")})}},d=function(e,t,a,n){return function(s){c.a.put("".concat(r.a,"templates/workSheet/update/").concat(e),t).then(function(e){a&&a()}).catch(function(e){s({type:l.C,payload:"Something went wrong"}),n(),console.log(e),o.b.error("Something went wrong")})}},h=function(e,t,a){return function(n){c.a.post("".concat(r.a,"templates/tables"),e).then(function(e){t&&t()}).catch(function(e){n({type:l.C,payload:"Something went wrong"}),a(),console.log(e),o.b.error("Something went wrong")})}},g=function(e,t){return function(a){var n={workSheetId:e,name:t.name,type:t.type};a({type:l.K,payload:n})}},b=function(e){return function(t){c.a.get("".concat(r.a,"templates/exists?template=").concat(e)).then(function(e){t({type:l.D,payload:e.data})}).catch(function(e){t({type:l.C,payload:"Something went wrong"}),console.log(e)})}}},424:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(11),c=a.n(n),r=a(13),o=function(e,t,a,n){return function(o){c.a.get("".concat(r.a,"lookup/").concat(e)).then(function(e){o({type:t,payload:e.data}),a&&a()}).catch(function(e){n&&(n(),console.log(e))})}}},772:function(e,t,a){"use strict";var n=a(4),c=a(6),r=a(0),o=a.n(r),l=a(1),s=a.n(l),u=a(7),i=a.n(u),m=a(3),p={tag:m.m,className:s.a.string,cssModule:s.a.object},f=function(e){var t=e.className,a=e.cssModule,r=e.tag,l=Object(c.a)(e,["className","cssModule","tag"]),s=Object(m.i)(i()(t,"card-title"),a);return o.a.createElement(r,Object(n.a)({},l,{className:s}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f},922:function(e,t,a){"use strict";a.r(t);var n=a(174),c=a(32),r=a(0),o=a.n(r),l=a(172),s=a(144),u=a(156),i=a(157),m=a(158),p=a(233),f=a(208),d=a(151),h=a(152),g=a(153),b=a(148),y=a(772),v=a(146),w=a(145),E=a(147),j=a(2),O=a(424),N=a(259),S=a(9),T=a(55),k=a(7),C=a.n(k),M={fetch:N.a,fetchDataTypes:O.a,update:N.g,updateInput:N.h,finish:N.b};t.default=Object(c.b)(function(e){return{dataTypes:e.lookups.dataTypes,workSheets:e.templates.workSheets}},M)(function(e){var t=[],a=Object(r.useState)(0),c=Object(n.a)(a,2),O=c[0],N=c[1],k=Object(r.useState)(0),M=Object(n.a)(k,2),D=M[0],P=M[1],I=Object(r.useState)(!1),x=Object(n.a)(I,2),F=x[0],q=x[1],R=Object(r.useState)(0),J=Object(n.a)(R,2),U=J[0],z=J[1];Object(r.useEffect)(function(){var t=e.match.params;t.id&&e.fetch(t.id)},[]),Object(r.useEffect)(function(){e.fetchDataTypes("dataType",j.s)},[]);Object(r.useEffect)(function(){e.workSheets.length>0&&A(0)},[]);var A=function(a){var n=e.workSheets[a].columns;t=n},W=function(a){var n=a.target,c=n.name,r=n.value,o=t[c];o&&o.type?(o.type=r,e.updateInput(O,o)):(A(D),(o=t[c]).type=r,e.updateInput(O,o))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{className:"DashboardPage",hidden:F},e.workSheets.length>0&&o.a.createElement(s.a,{onSubmit:function(t){t.preventDefault(),q(!0),e.update(e.workSheets[O].id,e.workSheets[O].columns,function(){q(!1),S.b.success("Updated Successfully")},function(){q(!1),S.b.error("Something went wrong")})}},o.a.createElement(u.a,null,o.a.createElement(i.a,{lg:"12",md:"12",sm:"12",xs:"12"},o.a.createElement(m.a,null,o.a.createElement(p.a,null,"Template Configuration"),o.a.createElement(f.a,null,"Cycle through all the tabs selecting the data types for the different fields then click on Update. When done with all the tabs and the data types are filled correctly click on Finish to complete the template configuration.")))),o.a.createElement(u.a,null,o.a.createElement(i.a,{lg:"12",md:"12",sm:"12",xs:"12"},o.a.createElement(d.a,{tabs:!0},e.workSheets.map(function(e,t){var a=e.name;return o.a.createElement(h.a,{key:"nav-Worksheet-".concat(t),className:"nav-tab-details"},o.a.createElement(g.a,{id:"nav-details",className:C()({active:U===t}),onClick:function(){var e;U!==(e=t)&&z(e),function(e){P(e),N(e),A(e)}(t)}},a))})),o.a.createElement(m.a,null,o.a.createElement(p.a,null,"Column Data Types",o.a.createElement(b.a,{className:" float-right mr-1",onClick:function(){return q(!0),void e.finish(e.workSheets,function(){S.b.success("Tables Created Successfully"),q(!1),e.history.push("/download-Template")},function(){q(!1),S.b.error("Something went wrong")})}},"Finish")),o.a.createElement(f.a,null,o.a.createElement(y.a,null,o.a.createElement(u.a,null,o.a.createElement(i.a,{md:6},o.a.createElement(v.a,null,o.a.createElement("b",null,"Column"))),o.a.createElement(i.a,{md:6},o.a.createElement(v.a,null,o.a.createElement("b",null,"Data Type"))))),!F&&o.a.createElement(w.a,null,e.workSheets[D].columns.map(function(t,a){var n=t.type,c=t.name;return o.a.createElement(u.a,{key:"Row-".concat(a)},o.a.createElement(i.a,{md:6},o.a.createElement(v.a,{for:"ghprs-".concat(a)},c)),o.a.createElement(i.a,{md:6},e.dataTypes&&o.a.createElement(E.a,{type:"select",name:a,id:a,placeholder:"Select Type",onChange:W,defaultValue:n},e.dataTypes.map(function(e){var t=e.name,a=e.value;return o.a.createElement("option",{key:a,value:a},t)}))))})),o.a.createElement(u.a,null,o.a.createElement(i.a,{xl:12,lg:12,md:12},o.a.createElement(u.a,{form:!0},o.a.createElement(i.a,{md:12},o.a.createElement(w.a,{check:!0,row:!0},o.a.createElement(i.a,{lg:{size:30,offset:2}},o.a.createElement(b.a,null,"Update"))))))))))))),F&&o.a.createElement(T.a,null))})}}]);
//# sourceMappingURL=11.e8f2638a.chunk.js.map