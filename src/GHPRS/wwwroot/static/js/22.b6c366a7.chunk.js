(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{167:function(e,t,a){"use strict";var n=a(5),r=a(1),i=a.n(r);Object(n.a)({},i.a,{ID:i.a.oneOfType([i.a.string,i.a.number]).isRequired,component:i.a.oneOfType([i.a.string,i.a.func]),date:i.a.oneOfType([i.a.instanceOf(Date),i.a.string])})},172:function(e,t,a){"use strict";var n=a(27),r=a(0),i=a.n(r),c=(a(167),a(28)),o=a(214),l=a(215),s=a(173),u=c.a.create("page"),m=function(e){var t=e.title,a=e.breadcrumbs,r=e.tag,c=e.className,m=e.children,d=Object(n.a)(e,["title","breadcrumbs","tag","className","children"]),f=u.b("px-3",c);return i.a.createElement(r,Object.assign({className:f},d),i.a.createElement("div",{className:u.e("header")},t&&"string"===typeof t?i.a.createElement(s.a,{type:"h1",className:u.e("title")},t):t,a&&i.a.createElement(o.a,{className:u.e("breadcrumb")},a.length&&a.map(function(e,t){var a=e.name,n=e.active;return i.a.createElement(l.a,{key:t,active:n},a)}))),m)};m.defaultProps={tag:"div",title:""},t.a=m},173:function(e,t,a){"use strict";var n=a(36),r=a(27),i=a(7),c=a.n(i),o=a(0),l=a.n(o),s=(a(167),{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"}),u=function(e){var t,a=e.tag,i=e.className,o=e.type,u=Object(r.a)(e,["tag","className","type"]),m=c()(Object(n.a)({},o,!!o),i);return t=a||(!a&&s[o]?s[o]:"p"),l.a.createElement(t,Object.assign({},u,{className:m}))};u.defaultProps={type:"p"},t.a=u},174:function(e,t,a){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(l){r=!0,i=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.d(t,"a",function(){return n})},208:function(e,t,a){"use strict";var n=a(4),r=a(6),i=a(0),c=a.n(i),o=a(1),l=a.n(o),s=a(7),u=a.n(s),m=a(3),d={tag:m.m,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},f=function(e){var t=e.className,a=e.cssModule,i=e.innerRef,o=e.tag,l=Object(r.a)(e,["className","cssModule","innerRef","tag"]),s=Object(m.i)(u()(t,"card-body"),a);return c.a.createElement(o,Object(n.a)({},l,{className:s,ref:i}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},260:function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"b",function(){return s}),a.d(t,"c",function(){return u});var n=a(11),r=a.n(n),i=a(13),c=a(9),o=a(2),l=function(e,t){return function(a){r.a.get("".concat(i.a,"organizations")).then(function(t){a({type:o.d,payload:t.data}),e&&e()}).catch(function(e){t&&(t(),c.b.error("Something went wrong fetching organizations"))})}},s=function(e,t,a){return function(n){r.a.get("".concat(i.a,"organizations/").concat(e)).then(function(e){n({type:o.e,payload:e.data}),t&&t()}).catch(function(e){a&&(a(),c.b.error("Something went wrong fetching organization"))})}},u=function(e,t,a){return function(n){r.a.post("".concat(i.a,"organizations"),e).then(function(e){n({type:o.y,payload:e.data}),t&&t()}).catch(function(e){n({type:o.w,payload:"Something went wrong"}),a(),void 0===e.response?c.b.error("Something went wrong"):c.b.error(e)})}}},927:function(e,t,a){"use strict";a.r(t);var n=a(174),r=a(32),i=a(0),c=a.n(i),o=a(172),l=a(156),s=a(157),u=a(158),m=a(233),d=a(148),f=a(208),g=a(153),p=a(53),h=a(154),b=a(8),y=a(260),E=a(241),v=a.n(E),O=a(11),z=a.n(O),N=a(13),w=a(9),j=a(588),k=a(602),S=a(591),T=a(601),A=a(592),x=[{id:0,name:"Active"},{id:1,name:"Archived"}],D={fetchOrganizations:y.a};t.default=Object(r.b)(function(e){return{organizations:e.organizations.list}},D)(function(e){var t=Object(i.useState)(!1),a=Object(n.a)(t,2),r=a[0],y=a[1],E=Object(i.useState)(""),O=Object(n.a)(E,2),D=O[0],C=O[1],M=Object(i.useState)(),P=Object(n.a)(M,2),R=P[0],q=P[1];Object(i.useEffect)(function(){e.fetchOrganizations()},[]);var Y=function(t){"Yes"===t&&function(t){try{z.a.delete("".concat(N.a,"organizations/")+t).then(function(t){w.b.success("User "+D+" Successfully DeActivated."),setTimeout(function(){e.fetchOrganizations()},2500)})}catch(a){w.b.error("Could not delete Organisation Unit.")}}(R),y(!1)};return c.a.createElement(o.a,{className:"DashboardPage"},c.a.createElement(l.a,null,c.a.createElement(s.a,{xl:12,lg:12,md:12},c.a.createElement(u.a,null,c.a.createElement(m.a,null,"Organizations",c.a.createElement(p.a,{to:"/administration"},c.a.createElement(d.a,{variant:"contained",color:"link",className:" float-right mr-1"},c.a.createElement(b.c,{size:"15"})," ",c.a.createElement("span",{style:{textTransform:"capitalize"}},"Back")))),c.a.createElement(f.a,null,"Manage organizations/partners who have access to the system.")))),c.a.createElement(l.a,null,c.a.createElement(s.a,{lg:"12",md:"12",sm:"12",xs:"12"},c.a.createElement(v.a,{columns:[{title:"Name",field:"organizationname"},{title:"Short Name",field:"shortName"},{title:"Description",field:"description"},{title:"Status",field:"status"},{title:"Actions",field:"actions"}],data:e.organizations.map(function(e){return{organizationname:e.name,shortName:e.shortName,description:e.description,status:x.find(function(t){return t.id===e.status}).name,actions:c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,{id:"organization".concat(e.id),tag:h.a,to:"/organization/".concat(e.id),activeClassName:"active",exact:!0},c.a.createElement(b.a,{size:"15"})," ",c.a.createElement("span",{style:{color:"#000"}},"View")),c.a.createElement(d.a,{color:"link",onClick:function(){return q((t=e).id),C(t.name),void y(!0);var t},id:e.id,name:e.name},c.a.createElement(b.f,{size:"15"})," ",c.a.createElement("span",{style:{color:"#000"}},"Delete")))}}),title:c.a.createElement(p.a,{to:"/organization"},c.a.createElement(d.a,{variant:"contained",color:"link",className:" float-right mr-1"},c.a.createElement(b.b,{size:"15"})," ",c.a.createElement("span",{style:{textTransform:"capitalize"}},"Add Organization")))}))),c.a.createElement(j.a,{open:r,onClose:function(){return Y("No")},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(k.a,{id:"alert-dialog-title"},"Delete Organization"),c.a.createElement(S.a,null,c.a.createElement(T.a,{id:"alert-dialog-description"},"Are you sure you want to delete ",D,"?.")),c.a.createElement(A.a,null,c.a.createElement(d.a,{onClick:function(){return Y("No")},color:"primary"},"No"),c.a.createElement(d.a,{onClick:function(){return Y("Yes")},color:"primary",autoFocus:!0},"Yes"))))})}}]);
//# sourceMappingURL=22.b6c366a7.chunk.js.map