(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{167:function(e,t,n){"use strict";var a=n(5),o=n(1),c=n.n(o);Object(a.a)({},c.a,{ID:c.a.oneOfType([c.a.string,c.a.number]).isRequired,component:c.a.oneOfType([c.a.string,c.a.func]),date:c.a.oneOfType([c.a.instanceOf(Date),c.a.string])})},172:function(e,t,n){"use strict";var a=n(27),o=n(0),c=n.n(o),r=(n(167),n(28)),i=n(214),u=n(215),l=n(173),p=r.a.create("page"),s=function(e){var t=e.title,n=e.breadcrumbs,o=e.tag,r=e.className,s=e.children,d=Object(a.a)(e,["title","breadcrumbs","tag","className","children"]),f=p.b("px-3",r);return c.a.createElement(o,Object.assign({className:f},d),c.a.createElement("div",{className:p.e("header")},t&&"string"===typeof t?c.a.createElement(l.a,{type:"h1",className:p.e("title")},t):t,n&&c.a.createElement(i.a,{className:p.e("breadcrumb")},n.length&&n.map(function(e,t){var n=e.name,a=e.active;return c.a.createElement(u.a,{key:t,active:a},n)}))),s)};s.defaultProps={tag:"div",title:""},t.a=s},173:function(e,t,n){"use strict";var a=n(36),o=n(27),c=n(7),r=n.n(c),i=n(0),u=n.n(i),l=(n(167),{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"}),p=function(e){var t,n=e.tag,c=e.className,i=e.type,p=Object(o.a)(e,["tag","className","type"]),s=r()(Object(a.a)({},i,!!i),c);return t=n||(!n&&l[i]?l[i]:"p"),u.a.createElement(t,Object.assign({},p,{className:s}))};p.defaultProps={type:"p"},t.a=p},191:function(e,t,n){"use strict";var a=n(5),o=n(36),c=n(174),r=n(0);t.a=function(e){var t=Object(r.useState)(e),n=Object(c.a)(t,2),i=n[0],u=n[1],l=Object(r.useState)({}),p=Object(c.a)(l,2),s=p[0],d=p[1];return{values:i,setValues:u,errors:s,setErrors:d,handleInputChange:function(e){var t=e.target,n=t.name,c=t.value,r=Object(o.a)({},n,c);u(Object(a.a)({},i,r))},resetForm:function(){u(e),d({})}}}},216:function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return s}),n.d(t,"h",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return m}),n.d(t,"e",function(){return g});var a=n(11),o=n.n(a),c=n(13),r=n(9),i=n(2),u=function(e,t){return function(n){o.a.get("".concat(c.a,"uploads/user")).then(function(t){n({type:i.Q,payload:t.data}),e&&e()}).catch(function(e){t&&(t(),r.b.error("Something went wrong fetching Uploads"))})}},l=function(e,t,n){return function(a){o.a.get("".concat(c.a,"uploads/GetAllFileUploads/").concat(e)).then(function(e){a({type:i.Q,payload:e.data}),t&&t()}).catch(function(e){n&&(n(),r.b.error("Something went wrong fetching Uploads"))})}},p=function(e,t,n){return function(a){o.a.get("".concat(c.a,"uploads/status/").concat(e)).then(function(e){a({type:i.P,payload:e.data}),t&&t()}).catch(function(e){n&&(n(),r.b.error("Something went wrong fetching Uploads"))})}},s=function(e,t,n){return function(a){o.a.get("".concat(c.a,"uploads/").concat(e)).then(function(e){a({type:i.O,payload:e.data}),t&&t()}).catch(function(e){n&&(n(),r.b.error("Something went wrong fetching Upload"))})}},d=function(e,t,n){return function(a){o.a.get("".concat(c.a,"uploads/view/").concat(e)).then(function(e){a({type:i.T,payload:e.data}),t&&t()}).catch(function(e){n&&(n(),r.b.error("Something went wrong fetching Upload"))})}},f=function(e,t,n,a){return function(u){var l=new FormData;l.append("file",t.file),l.append("templateId",t.templateId),l.append("currentUser",t.currentUser),l.append("startDate",t.startDate),l.append("endDate",t.endDate),o.a.post("".concat(c.a,"uploads/upload/").concat(e),l).then(function(e){u({type:i.S,payload:e.data}),n&&n(),r.b.success("File Uploaded Successfully!")}).catch(function(e){u({type:i.M,payload:"Something went wrong"}),a(),console.log(e),r.b.error("Something went wrong")})}},m=function(e,t,n){return function(a){try{var u=new FormData;u.append("file",e.file),u.append("uploadTypeId",e.uploadTypeId),console.log(u),o.a.post("".concat(c.a,"uploads/MER_UPLOAD"),u).then(function(e){a({type:i.S,payload:e.data}),t&&t(),r.b.success("File Uploaded Successfully!")}).catch(function(e){a({type:i.M,payload:"Something went wrong"}),n(),console.log(e),r.b.error("Something went wrong")})}catch(l){}}},g=function(e,t,n,a){return function(u){o.a.put("".concat(c.a,"uploads/review/").concat(e),t).then(function(e){u({type:i.R,payload:e.data}),n&&n(),r.b.success("Saved Successfully!")}).catch(function(e){u({type:i.M,payload:"Something went wrong"}),a(),console.log(e),r.b.error("Something went wrong")})}}},259:function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return p}),n.d(t,"i",function(){return s}),n.d(t,"f",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"g",function(){return m}),n.d(t,"b",function(){return g}),n.d(t,"h",function(){return h}),n.d(t,"c",function(){return y});var a=n(11),o=n.n(a),c=n(13),r=n(9),i=n(2),u=function(e,t){return function(n){o.a.get("".concat(c.a,"templates")).then(function(t){n({type:i.E,payload:t.data}),e&&e()}).catch(function(e){t&&(t(),r.b.error("Something went wrong fetching Templates"))})}},l=function(e,t,n){return function(a){o.a.get("".concat(c.a,"templates/").concat(e)).then(function(e){a({type:i.F,payload:e.data}),t&&t()}).catch(function(e){n&&(n(),r.b.error("Something went wrong fetching Template"))})}},p=function(e,t,n){return function(a){o.a.get("".concat(c.a,"templates/configure/").concat(e)).then(function(e){a({type:i.B,payload:e.data}),t&&t()}).catch(function(e){n&&(n(),r.b.error("Something went wrong!"))})}},s=function(e,t,n,a){return function(u){o.a.put("".concat(c.a,"templates/").concat(e,"/status/").concat(t)).then(function(e){u({type:i.J,payload:e.data}),n&&n()}).catch(function(e){u({type:i.C,payload:"Something went wrong"}),a(),console.log(e),r.b.error("Something went wrong")})}},d=function(e,t,n){return function(a){var u=new FormData;u.append("file",e.file),u.append("name",e.name),u.append("description",e.description),u.append("version",e.version),u.append("frequency",e.frequency),u.append("status",e.status),o.a.post("".concat(c.a,"templates/initialize"),u).then(function(e){a({type:i.G,payload:e.data}),t&&t()}).catch(function(e){a({type:i.C,payload:"Something went wrong"}),n(),console.log(e),r.b.error("Something went wrong")})}},f=function(e,t,n,a){return function(u){var l=new FormData;l.append("file",t.file),o.a.post("".concat(c.a,"templates/updateTemplate/").concat(e),l).then(function(e){u({type:i.H,payload:e.data}),n&&n()}).catch(function(e){u({type:i.I,payload:"Something went wrong"}),a(),console.log(e),r.b.error("Something went wrong")})}},m=function(e,t,n,a){return function(u){o.a.put("".concat(c.a,"templates/workSheet/update/").concat(e),t).then(function(e){n&&n()}).catch(function(e){u({type:i.C,payload:"Something went wrong"}),a(),console.log(e),r.b.error("Something went wrong")})}},g=function(e,t,n){return function(a){o.a.post("".concat(c.a,"templates/tables"),e).then(function(e){t&&t()}).catch(function(e){a({type:i.C,payload:"Something went wrong"}),n(),console.log(e),r.b.error("Something went wrong")})}},h=function(e,t){return function(n){var a={workSheetId:e,name:t.name,type:t.type};n({type:i.K,payload:a})}},y=function(e){return function(t){o.a.get("".concat(c.a,"templates/exists?template=").concat(e)).then(function(e){t({type:i.D,payload:e.data})}).catch(function(e){t({type:i.C,payload:"Something went wrong"}),console.log(e)})}}},260:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return p});var a=n(11),o=n.n(a),c=n(13),r=n(9),i=n(2),u=function(e,t){return function(n){o.a.get("".concat(c.a,"organizations")).then(function(t){n({type:i.d,payload:t.data}),e&&e()}).catch(function(e){t&&(t(),r.b.error("Something went wrong fetching organizations"))})}},l=function(e,t,n){return function(a){o.a.get("".concat(c.a,"organizations/").concat(e)).then(function(e){a({type:i.e,payload:e.data}),t&&t()}).catch(function(e){n&&(n(),r.b.error("Something went wrong fetching organization"))})}},p=function(e,t,n){return function(a){o.a.post("".concat(c.a,"organizations"),e).then(function(e){a({type:i.y,payload:e.data}),t&&t()}).catch(function(e){a({type:i.w,payload:"Something went wrong"}),n(),void 0===e.response?r.b.error("Something went wrong"):r.b.error(e)})}}},918:function(e,t,n){"use strict";n.r(t);var a=n(174),o=n(32),c=n(0),r=n.n(c),i=n(172),u=n(156),l=n(157),p=n(158),s=n(233),d=n(208),f=n(144),m=n(145),g=n(146),h=n(147),y=n(276),w=n(148),b=n(216),S=n(259),v=n(260),E=n(56),O=n(9),D=n(24),j=n(191),z=n(772),I=(n(774),n(775),n(55)),U={file:"",templateId:0,currentUser:"",startDate:"",endDate:"",organizationId:0},F={upload:b.f,fetchTemplates:S.d,fetchOrganizations:v.a,getCurrentUserDetails:E.d};t.default=Object(o.b)(function(e){return{upload:e.uploads.upload,templates:e.templates.list,organizations:e.organizations.list,currentUser:e.users.currentUser}},F)(function(e){var t=Object(c.useState)(),n=Object(a.a)(t,2),o=n[0],b=n[1],S=Object(c.useState)(),v=Object(a.a)(S,2),E=v[0],F=v[1],T=Object(c.useState)(),C=Object(a.a)(T,2),N=C[0],k=C[1],x=Object(c.useState)(!1),M=Object(a.a)(x,2),Y=M[0],A=M[1];Object(c.useEffect)(function(){e.fetchTemplates(),e.fetchOrganizations(),e.getCurrentUserDetails()},[]);var P=Object(j.a)(U),q=P.values,J=P.handleInputChange,R=P.resetForm;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"DashboardPage",hidden:Y},r.a.createElement(u.a,null,r.a.createElement(l.a,{xl:12,lg:12,md:12},r.a.createElement(p.a,null,r.a.createElement(s.a,null,"Submit"),r.a.createElement(d.a,null,"Upload a filled out data template")))),r.a.createElement(u.a,null,r.a.createElement(l.a,{lg:"12",md:"12",sm:"12",xs:"12"},r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(u.a,null,r.a.createElement(l.a,{md:6},r.a.createElement(f.a,{onSubmit:function(t){A(!0),t.preventDefault(),q.file=o,q.startDate=E||"0001-JAN-01",q.endDate=N||"0001-JAN-01",q.currentUser=D.a.currentUsername,q.organizationId=e.currentUser.organizationId;var n=function(){O.b.success("Template uploaded successfully"),R(),A(!1),e.history.push("/submissions")},a=function(){O.b.error("Something went wrong"),A(!1)};"Administrator"===!D.a.currentRole?e.upload(e.currentUser.organizationId,q,n,a):e.upload(q.organizationId,q,n,a)}},"Administrator"===D.a.currentRole&&r.a.createElement(m.a,null,r.a.createElement(g.a,{for:"organizationId"},"Organization"),r.a.createElement(h.a,{type:"select",name:"organizationId",id:"organizationId",placeholder:"Organization",value:q.organizationId,onChange:J},r.a.createElement("option",{value:""}," "),e.organizations.map(function(e){var t=e.name,n=e.id;return r.a.createElement("option",{key:n,value:n},t)}))),r.a.createElement(m.a,null,r.a.createElement(g.a,{for:"templateId"},"Template"),r.a.createElement(h.a,{type:"select",name:"templateId",id:"templateId",placeholder:"Template",value:q.template,onChange:J},r.a.createElement("option",{value:""}," "),e.templates.map(function(e){var t=e.name,n=e.id;return r.a.createElement("option",{key:n,value:n},t)}))),r.a.createElement(m.a,null,r.a.createElement(g.a,{for:"period"},"Period"),r.a.createElement(z.a,{initialSettings:{startDate:new Date,endDate:new Date},onCallback:function(e,t){F(e.format("YYYY-MM-DD")),k(t.format("YYYY-MM-DD"))}},r.a.createElement("input",{type:"text",className:"form-control"}))),r.a.createElement(m.a,null,r.a.createElement(g.a,{for:"excelFile"},"File"),r.a.createElement(h.a,{type:"file",name:"file",placeholder:"File",defaultValue:q.file,onChange:function(e){b(e.target.files[0])},accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"}),r.a.createElement(y.a,{color:"muted"},"Upload filled out excel template")),r.a.createElement(m.a,{check:!0,row:!0},r.a.createElement(w.a,null,"Save")))))))))),Y&&r.a.createElement(I.a,null))})}}]);
//# sourceMappingURL=21.d2ae788f.chunk.js.map